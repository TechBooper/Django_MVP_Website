{% extends 'base.html' %}

{% block title %}Manage Follows{% endblock %}

{% block content %}
<h1>Manage Your Follows</h1>

<h2>Follow Users</h2>
<form method="post" class="follow-form">
    {% csrf_token %}
    {{ form.username }}
    <input type="hidden" name="action" value="follow">
    <button type="submit">Follow</button>
</form>

<h2>Following</h2>
<ul class="following-list">
    {% for follow in following %}
        <li>
            {{ follow.followed_user.username }}
            <form method="post" action="{% url 'myapp:manage_follows' %}" style="display: inline;">
                {% csrf_token %}
                <input type="hidden" name="username" value="{{ follow.followed_user.username }}">
                <input type="hidden" name="action" value="unfollow">
                <button type="submit">Unfollow</button>
            </form>
        </li>
    {% endfor %}
</ul>

<h2>Followers</h2>
<ul class="followers-list">
    {% for follow in followers %}
        <li>{{ follow.user.username }}</li>
    {% endfor %}
</ul>
{% endblock %}
